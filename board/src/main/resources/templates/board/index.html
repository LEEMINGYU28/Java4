<head mxlns:th="http://www.thymeleaf.org">

<head th:fragment="boardFragmentHead">
  <link rel="stylesheet" href="/styles/board/index.css" />
</head>
<head th:replace="~{basic/userInfo :: userInfoFragmentHead}"></head>
<body>
  <div th:fragment="boardFragment" class="board container">
    <th:block th:if="${session.userName != null}">
      <div th:replace="~{/board/addBoard :: addBoardFragment}"></div>
    </th:block>
    <div>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">제목</th>
            <th scope="col">작성자</th>
            <th scope="col">작성일자</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="item:${list}" th:object="${item}">
            <th scope="row" th:text="*{id}"></th>
            <td>
              <a th:href="@{/board/{id}(id=*{id})}" th:text="*{title}">
              </a>
            </td>
            <td class="user-name">
              <div th:text="*{userName}"></div>
              <a
                  th:if="*{userGitAddress} != null"
                  class="user-git-address"
                  th:href="*{userGitAddress}"
                  target="_blank"
                  th:text="*{userGitAddress}"
                ></a>
            </td>
            <td>
              <div th:replace="~{/basic/userinfo :: userInfoFragment}"></div>
            </td>
            <td th:text="*{createdAt}"></td>
          </tr>
        </tbody>
      </table>
      <div>
        <nav aria-label="Page navigation" th:with="nowPage=${#numbers.formatInteger(param.page != null ? param.page : 1,1)}">
          <ul class="pagination">
            <li class="page-item" th:if="nowPage != 1">
              <a class="page-link" href="@{/(page=${nowPage -1})}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>
            <li th:each="page : ${#numbers.sequence(1, pageCount)}" class="page-item">
              <a class="page-link" th:href="@{/(page=${page})}">
                [[${page}]]
              </a>
            </li>
            <li class="page-item" th:if="${nowPage} != ${pageCount}">
              <a class="page-link" href="@{/(page=${nowPage}+1)}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</body>

</html>